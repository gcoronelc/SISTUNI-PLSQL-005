CREATE OR REPLACE PROCEDURE CN.PR_CATALOGO_DETALLES
(
p_tipo CATALOGO.TIPO_ITEM%TYPE,
p_codigo OUT CATALOGO.CODIGO_ITEM%TYPE,
p_precio OUT CATALOGO.PRECIO_UNIT%TYPE,
p_nombre OUT CATALOGO.NOMBRE_ITEM%TYPE,
p_medida OUT CATALOGO.UNIDAD_MEDIDA%TYPE)

AS
BEGIN
      SELECT CATALOGO.CODIGO_ITEM,CATALOGO.PRECIO_UNIT,CATALOGO.NOMBRE_ITEM,CATALOGO.UNIDAD_MEDIDA
      INTO p_codigo,p_precio,p_nombre,p_medida
      FROM CATALOGO
      WHERE TIPO_ITEM = p_tipo;
EXCEPTION
      WHEN NO_DATA_FOUND THEN
            RAISE_APPLICATION_ERROR(-20001, 'CATALOGO NO ENCONTRADO');
      WHEN TOO_MANY_ROWS THEN
             RAISE_APPLICATION_ERROR(-20002, 'EXISTEN EL CATALOGO CON EL MISMO NOMBRE');
      WHEN OTHERS THEN
            RAISE_APPLICATION_ERROR(-20003, SQLERRM); 
END;
/

BEGIN
	CN.PR_CATALOGO_DETALLES ('2', :p_codigo$VARCHAR2, :p_precio$NUMBER, :p_nombre$VARCHAR2, :p_medida$NUMBER);
END;

SELECT * FROM CN.CATALOGO